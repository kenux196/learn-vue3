import{$ as f}from"./api-DPXHWu82.js";import{g as r,a as m,C as D,o as a,c as s,b as e,t as p,F as h,n as $,v as g,e as x,d as k}from"./index-CO37tVrW.js";const b={key:0},w={key:1},C={__name:"ToDoDetail",setup(v){const o=r(1),t=r(null);async function n(){await f.jsonplaceholder.fetchTodoById(o.value).then(c=>{t.value=c.data})}return m(()=>{n()}),D(o,c=>{n()}),(c,u)=>(a(),s(h,null,[e("p",null,"할 일 id: "+p(o.value),1),e("button",{onClick:u[0]||(u[0]=i=>o.value++)},"다음 할 일 가져오기"),t.value?(a(),s("pre",w,p(t.value),1)):(a(),s("p",b,"로딩..."))],64))}},T=["open"],B={style:{width:"100%"}},M=e("h3",null,"할 일",-1),j={__name:"ToDoDetailModal",setup(v,{expose:o}){const t=r(""),n=r(!1);function c(){n.value=!1}function u(i){console.log("modal open"),n.value=!0,t.value=i,console.log(i)}return o({open:u}),(i,l)=>(a(),s("dialog",{open:n.value},[e("article",B,[M,e("p",null,p(t.value.title),1),e("p",null,p(t.value.completed?"완료":"미완료"),1),$(e("input",{type:"checkbox","onUpdate:modelValue":l[0]||(l[0]=_=>t.value.completed=_)},null,512),[[g,t.value.completed]]),e("footer",null,[e("a",{href:"#confirm",role:"button",onClick:l[1]||(l[1]=_=>c())},"확인")])])],8,T))}},L=e("thead",null,[e("th",null,"#"),e("th",null,"title"),e("th",null,"complete"),e("th",null,"userId")],-1),V=["onClick"],F=["onClick"],N=["checked"],E={__name:"ToDoList",setup(v){const o=r(null),t=r(null);async function n(){o.value=null,await f.jsonplaceholder.fetchTodos("https://jsonplaceholder.typicode.com/todos").then(l=>{o.value=l.data})}async function c(l){await f.jsonplaceholder.fetchTodoById(l).then(_=>{t.value=_.data})}m(()=>{n()});const u=r("");async function i(l){console.log("open detail : "+l),await c(l),u.value.open(t.value)}return(l,_)=>(a(),s(h,null,[e("div",null,[e("table",null,[L,e("tbody",null,[(a(!0),s(h,null,x(o.value,d=>(a(),s("tr",{key:d.id},[e("td",null,[e("a",{href:"#",onClick:y=>i(d.id)},p(d.id),9,V)]),e("td",null,[e("a",{href:"#",onClick:y=>i(d.id)},p(d.title),9,F)]),e("td",null,[e("input",{type:"checkbox",checked:d.completed},null,8,N)]),e("td",null,p(d.userId),1)]))),128))])])]),e("div",null,[k(j,{ref_key:"todoDetailModal",ref:u},null,512)])],64))}},S={__name:"TodoListPage1",setup(v){return(o,t)=>(a(),s(h,null,[k(E),k(C)],64))}};export{S as default};
