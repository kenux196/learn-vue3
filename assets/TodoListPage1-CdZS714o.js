import{$ as v}from"./api-kUAVYgsC.js";import{u as r,j as m,K as D,o as a,k as s,f as e,t as p,F as h,z as $,A as x,n as g,m as k}from"./index-f-fFarx_.js";const w={key:0},T={key:1},b={__name:"ToDoDetail",setup(f){const o=r(1),t=r(null);async function n(){await v.jsonplaceholder.fetchTodoById(o.value).then(u=>{t.value=u.data})}return m(()=>{n()}),D(o,u=>{n()}),(u,c)=>(a(),s(h,null,[e("p",null,"할 일 id: "+p(o.value),1),e("button",{onClick:c[0]||(c[0]=i=>o.value++)},"다음 할 일 가져오기"),t.value?(a(),s("pre",T,p(t.value),1)):(a(),s("p",w,"로딩..."))],64))}},C=["open"],j={style:{width:"100%"}},B=e("h3",null,"할 일",-1),M={__name:"ToDoDetailModal",setup(f,{expose:o}){const t=r(""),n=r(!1);function u(){n.value=!1}function c(i){console.log("modal open"),n.value=!0,t.value=i,console.log(i)}return o({open:c}),(i,l)=>(a(),s("dialog",{open:n.value},[e("article",j,[B,e("p",null,p(t.value.title),1),e("p",null,p(t.value.completed?"완료":"미완료"),1),$(e("input",{type:"checkbox","onUpdate:modelValue":l[0]||(l[0]=_=>t.value.completed=_)},null,512),[[x,t.value.completed]]),e("footer",null,[e("a",{href:"#confirm",role:"button",onClick:l[1]||(l[1]=_=>u())},"확인")])])],8,C))}},L=e("thead",null,[e("th",null,"#"),e("th",null,"title"),e("th",null,"complete"),e("th",null,"userId")],-1),V=["onClick"],F=["onClick"],N=["checked"],z={__name:"ToDoList",setup(f){const o=r(null),t=r(null);async function n(){o.value=null,await v.jsonplaceholder.fetchTodos("https://jsonplaceholder.typicode.com/todos").then(l=>{o.value=l.data})}async function u(l){await v.jsonplaceholder.fetchTodoById(l).then(_=>{t.value=_.data})}m(()=>{n()});const c=r("");async function i(l){console.log("open detail : "+l),await u(l),c.value.open(t.value)}return(l,_)=>(a(),s(h,null,[e("div",null,[e("table",null,[L,e("tbody",null,[(a(!0),s(h,null,g(o.value,d=>(a(),s("tr",{key:d.id},[e("td",null,[e("a",{href:"#",onClick:y=>i(d.id)},p(d.id),9,V)]),e("td",null,[e("a",{href:"#",onClick:y=>i(d.id)},p(d.title),9,F)]),e("td",null,[e("input",{type:"checkbox",checked:d.completed},null,8,N)]),e("td",null,p(d.userId),1)]))),128))])])]),e("div",null,[k(M,{ref_key:"todoDetailModal",ref:c},null,512)])],64))}},K={__name:"TodoListPage1",setup(f){return(o,t)=>(a(),s(h,null,[k(z),k(b)],64))}};export{K as default};
