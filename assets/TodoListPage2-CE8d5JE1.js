import{u as _,a as S,V as K,o as r,k as p,f as t,aG as m,z as i,aH as f,F as x,n as $,aI as v,A as L,t as g,_ as M,y as N,q as O,s as U}from"./index-CVsX6YMr.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T=u=>(O("data-v-a9e60303"),u=u(),U(),u),F={class:"todoapp"},G={class:"header"},J=T(()=>t("h1",null,"todos",-1)),P={class:"main"},q=["checked"],H=T(()=>t("label",{for:"toggle-all"},"Mark all as complete",-1)),R={class:"todo-list"},W={class:"view"},Y=["onUpdate:modelValue"],j=["onDblclick"],Q=["onClick"],X=["onUpdate:modelValue","onBlur","onKeyup"],Z={class:"footer"},ee={class:"todo-count"},te={class:"filters"},E="vue-todomvc",le={__name:"TodoListPage2",setup(u){const d={all:e=>e,active:e=>e.filter(o=>!o.completed),completed:e=>e.filter(o=>o.completed)},a=_(JSON.parse(localStorage.getItem(E)||"[]")),n=_("all"),k=_(),V=S(()=>d[n.value](a.value)),h=S(()=>d.active(a.value).length);window.addEventListener("hashchange",C),C(),K(()=>{localStorage.setItem(E,JSON.stringify(a.value))});function I(e){a.value.forEach(o=>{o.completed=e.target.checked})}function A(e){const o=e.target.value.trim();o&&(a.value.push({id:Date.now(),title:o,computed:!1}),e.target.value="")}function w(e){a.value.splice(a.value.indexOf(e),1)}let y="";function c(e){y=e.title,c.value=e}function B(e){c.value=null,e.title=y}function b(e){c.value&&(c.value=null,e.title=e.title.trim(),e.title||w(e))}function D(){a.value=d.active(a.value)}function C(){const e=window.location.hash.replace(/#\/?/,"");d[e]?n.value=e:(window.location.hash="",n.value="all")}return(e,o)=>(r(),p(x,null,[t("section",F,[t("header",G,[J,t("input",{class:"new-todo",autofocus:"",placeholder:"What needs to be done?",onKeyup:m(A,["enter"])},null,32)])]),i(t("section",P,[t("input",{id:"toggle-all",class:"toggle-all",type:"checkbox",checked:h.value===0,onChange:I},null,40,q),H,t("ul",R,[(r(!0),p(x,null,$(V.value,l=>(r(),p("li",{class:v(["todo",{completed:l.completed,editing:l===k.value}]),key:l.id},[t("div",W,[i(t("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":s=>l.completed=s},null,8,Y),[[L,l.completed]]),t("label",{onDblclick:s=>c(l)},g(l.title),41,j),t("span",{class:"destory",onClick:s=>w(l)},"삭제",8,Q)]),l===k.value?i((r(),p("input",{key:0,class:"edit",type:"text","onUpdate:modelValue":s=>l.title=s,onVnodeMouted:o[0]||(o[0]=({el:s})=>s.focus()),onBlur:s=>b(l),onKeyup:[m(s=>b(l),["enter"]),m(s=>B(l),["escape"])]},null,40,X)),[[M,l.title]]):N("",!0)],2))),128))])],512),[[f,a.value.length]]),i(t("footer",Z,[t("span",ee,[t("strong",null,g(h.value),1),t("span",null,g(h.value===1?" item":" items")+" left",1)]),t("ul",te,[t("li",null,[t("a",{href:"#/all",class:v({selected:n.value==="all"})},"All",2)]),t("li",null,[t("a",{href:"#/active",class:v({selected:n.value==="active"})},"Active",2)]),t("li",null,[t("a",{href:"#/completed",class:v({selected:n.value==="completed"})},"Completed",2)])]),i(t("button",{class:"clear-completed",onClick:D}," Clear completed ",512),[[f,a.value.length]])],512),[[f,a.value.length]])],64))}},se=z(le,[["__scopeId","data-v-a9e60303"]]);export{se as default};
