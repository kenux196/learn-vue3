import{g as _,k as S,S as L,o as r,c as p,b as t,aL as m,s as i,aM as f,F as x,e as M,_ as v,v as $,t as g,a2 as A,q as N,p as O,f as U}from"./index-DKwvhAdi.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T=d=>(O("data-v-bcf19db7"),d=d(),U(),d),J={class:"todoapp"},P={class:"header"},q=T(()=>t("h1",null,"todos",-1)),z={class:"main"},G=["checked"],R=T(()=>t("label",{for:"toggle-all"},"Mark all as complete",-1)),W={class:"todo-list"},Y={class:"view"},j=["onUpdate:modelValue"],H=["onDblclick"],Q=["onClick"],X=["onUpdate:modelValue","onBlur","onKeyup"],Z={class:"footer"},ee={class:"todo-count"},te={class:"filters"},E="vue-todomvc",le={__name:"TodoListPage2",setup(d){const u={all:e=>e,active:e=>e.filter(o=>!o.completed),completed:e=>e.filter(o=>o.completed)},a=_(JSON.parse(localStorage.getItem(E)||"[]")),c=_("all"),k=_(),V=S(()=>u[c.value](a.value)),h=S(()=>u.active(a.value).length);window.addEventListener("hashchange",C),C(),L(()=>{localStorage.setItem(E,JSON.stringify(a.value))});function I(e){a.value.forEach(o=>{o.completed=e.target.checked})}function B(e){const o=e.target.value.trim();o&&(a.value.push({id:Date.now(),title:o,computed:!1}),e.target.value="")}function b(e){a.value.splice(a.value.indexOf(e),1)}let w="";function n(e){w=e.title,n.value=e}function D(e){n.value=null,e.title=w}function y(e){n.value&&(n.value=null,e.title=e.title.trim(),e.title||b(e))}function K(){a.value=u.active(a.value)}function C(){const e=window.location.hash.replace(/#\/?/,"");u[e]?c.value=e:(window.location.hash="",c.value="all")}return(e,o)=>(r(),p(x,null,[t("section",J,[t("header",P,[q,t("input",{class:"new-todo",autofocus:"",placeholder:"What needs to be done?",onKeyup:m(B,["enter"])},null,32)])]),i(t("section",z,[t("input",{id:"toggle-all",class:"toggle-all",type:"checkbox",checked:h.value===0,onChange:I},null,40,G),R,t("ul",W,[(r(!0),p(x,null,M(V.value,l=>(r(),p("li",{class:v(["todo",{completed:l.completed,editing:l===k.value}]),key:l.id},[t("div",Y,[i(t("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":s=>l.completed=s},null,8,j),[[$,l.completed]]),t("label",{onDblclick:s=>n(l)},g(l.title),41,H),t("span",{class:"destory",onClick:s=>b(l)},"삭제",8,Q)]),l===k.value?i((r(),p("input",{key:0,class:"edit",type:"text","onUpdate:modelValue":s=>l.title=s,onVnodeMouted:o[0]||(o[0]=({el:s})=>s.focus()),onBlur:s=>y(l),onKeyup:[m(s=>y(l),["enter"]),m(s=>D(l),["escape"])]},null,40,X)),[[A,l.title]]):N("",!0)],2))),128))])],512),[[f,a.value.length]]),i(t("footer",Z,[t("span",ee,[t("strong",null,g(h.value),1),t("span",null,g(h.value===1?" item":" items")+" left",1)]),t("ul",te,[t("li",null,[t("a",{href:"#/all",class:v({selected:c.value==="all"})},"All",2)]),t("li",null,[t("a",{href:"#/active",class:v({selected:c.value==="active"})},"Active",2)]),t("li",null,[t("a",{href:"#/completed",class:v({selected:c.value==="completed"})},"Completed",2)])]),i(t("button",{class:"clear-completed",onClick:K}," Clear completed ",512),[[f,a.value.length]])],512),[[f,a.value.length]])],64))}},se=F(le,[["__scopeId","data-v-bcf19db7"]]);export{se as default};
