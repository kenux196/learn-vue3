import{r as h,aK as a,g as l,k as f}from"./index-DrkRHBK_.js";class c{constructor(t,s,o,i){this.id=null,this.title=t,this.author=s,this.price=o,this.publishDate=i}static createBook(t,s,o,i){return new c(t,s,o,i)}setId(t){this.id=t}updateData(t){this.title=t.title,this.author=t.author,this.price=t.price,this.publishDate=t.publishDate}}class p{constructor(){this.books=new Map}findAll(){return Array.from(this.books.values())}findById(t){return this.books.get(t)}save(t){(t.id==null||t.id==""||t.id==null)&&t.setId(this.generateId()),this.books.set(t.id,t)}delete(t){this.books.delete(t)}findByTitle(t){const s=[];return this.books.forEach(o=>{o.title.indexOf(t)>-1&&s.push(o)}),s}generateId(){return this.books.size+1}}const n=new p;function b(e){for(let t=0;t<e;t++){const s=t+1,o="book "+s,i="kenux",r=1e4,u=new Date(2022,s,13).toISOString().split("T")[0],d=c.createBook(o,i,r,u);n.save(d)}}b(10);const k=()=>{const e=n.findAll();console.log(e),e.forEach(t=>console.log(t))};k();function g(){const e=n.findById(1);e.title="newTitle",n.save(e)}g();function x(){const e=n.findById(2);n.delete(e.id)}x();function y(){console.log("test find by title"),n.findByTitle("book").forEach(t=>console.log(t))}y();const B=h({player:null,setUser(e){this.player=e},bookRepository:n}),T=a("counter",()=>{const e=l(0),t=l("Eduardo"),s=f(()=>e.value*2);function o(){e.value++}function i(){e.value--}function r(){e.value=0}return{count:e,name:t,doubleCount:s,increment:o,decrement:i,$reset:r}},{persist:{enable:!0,storage:sessionStorage}}),S=a("counter2",{state:()=>({count:0,name:"kenux"}),getters:{doubleCount(){return this.count*2}},actions:{increment(){this.count++},decrement(){this.count--}},persist:{enabled:!0,storage:localStorage}}),v=a("storeUser",{state:()=>({firstName:"S",lastName:"L",accessToken:"xxxxxxxxxxxxx"}),actions:{setToken(e){this.accessToken=e}},persist:{enabled:!0,storage:localStorage,paths:["accessToken","lastName"],beforeRestore:e=>{console.log(`about to restore '${e.store.$id}`)},afterRestore:e=>{console.log(`just restored '${e.store.$id}'`)}}});export{c as B,v as a,n as b,S as c,B as s,T as u};
