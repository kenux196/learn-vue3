import{g as m,i as E,O,o as r,c as p,b as t,aE as _,n as i,aF as f,F as S,e as $,aG as v,v as A,t as g,W as L,m as M,p as N,f as U}from"./index-DExbjKnZ.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T=u=>(N("data-v-a9e60303"),u=u(),U(),u),G={class:"todoapp"},J={class:"header"},P=T(()=>t("h1",null,"todos",-1)),W={class:"main"},z=["checked"],R=T(()=>t("label",{for:"toggle-all"},"Mark all as complete",-1)),Y={class:"todo-list"},j={class:"view"},q=["onUpdate:modelValue"],H=["onDblclick"],Q=["onClick"],X=["onUpdate:modelValue","onBlur","onKeyup"],Z={class:"footer"},ee={class:"todo-count"},te={class:"filters"},x="vue-todomvc",le={__name:"TodoListPage2",setup(u){const d={all:e=>e,active:e=>e.filter(o=>!o.completed),completed:e=>e.filter(o=>o.completed)},a=m(JSON.parse(localStorage.getItem(x)||"[]")),n=m("all"),k=m(),V=E(()=>d[n.value](a.value)),h=E(()=>d.active(a.value).length);window.addEventListener("hashchange",C),C(),O(()=>{localStorage.setItem(x,JSON.stringify(a.value))});function I(e){a.value.forEach(o=>{o.completed=e.target.checked})}function B(e){const o=e.target.value.trim();o&&(a.value.push({id:Date.now(),title:o,computed:!1}),e.target.value="")}function w(e){a.value.splice(a.value.indexOf(e),1)}let y="";function c(e){y=e.title,c.value=e}function D(e){c.value=null,e.title=y}function b(e){c.value&&(c.value=null,e.title=e.title.trim(),e.title||w(e))}function K(){a.value=d.active(a.value)}function C(){const e=window.location.hash.replace(/#\/?/,"");d[e]?n.value=e:(window.location.hash="",n.value="all")}return(e,o)=>(r(),p(S,null,[t("section",G,[t("header",J,[P,t("input",{class:"new-todo",autofocus:"",placeholder:"What needs to be done?",onKeyup:_(B,["enter"])},null,32)])]),i(t("section",W,[t("input",{id:"toggle-all",class:"toggle-all",type:"checkbox",checked:h.value===0,onChange:I},null,40,z),R,t("ul",Y,[(r(!0),p(S,null,$(V.value,l=>(r(),p("li",{class:v(["todo",{completed:l.completed,editing:l===k.value}]),key:l.id},[t("div",j,[i(t("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":s=>l.completed=s},null,8,q),[[A,l.completed]]),t("label",{onDblclick:s=>c(l)},g(l.title),41,H),t("span",{class:"destory",onClick:s=>w(l)},"삭제",8,Q)]),l===k.value?i((r(),p("input",{key:0,class:"edit",type:"text","onUpdate:modelValue":s=>l.title=s,onVnodeMouted:o[0]||(o[0]=({el:s})=>s.focus()),onBlur:s=>b(l),onKeyup:[_(s=>b(l),["enter"]),_(s=>D(l),["escape"])]},null,40,X)),[[L,l.title]]):M("",!0)],2))),128))])],512),[[f,a.value.length]]),i(t("footer",Z,[t("span",ee,[t("strong",null,g(h.value),1),t("span",null,g(h.value===1?" item":" items")+" left",1)]),t("ul",te,[t("li",null,[t("a",{href:"#/all",class:v({selected:n.value==="all"})},"All",2)]),t("li",null,[t("a",{href:"#/active",class:v({selected:n.value==="active"})},"Active",2)]),t("li",null,[t("a",{href:"#/completed",class:v({selected:n.value==="completed"})},"Completed",2)])]),i(t("button",{class:"clear-completed",onClick:K}," Clear completed ",512),[[f,a.value.length]])],512),[[f,a.value.length]])],64))}},se=F(le,[["__scopeId","data-v-a9e60303"]]);export{se as default};
